<html>
	<head>
    	<link rel="stylesheet" href="style.css" media="all" />
    	<script type="text/javascript" src="navigation.json"></script>
		<script language="Javascript">

var navigation = {
    "derp":"derp",
    "parents":
    [
        {
            "filename":"shirt",
            "imageCaption":"Shirt",
            "actionName":"View Shirts",
            "children":
            [
                {
                    "filename":"shirt",
                    "imageCaption":"Upright Shirt",
                    "actionName":"Wear Shirt"
                },
                {
                    "filename":"shirt2",
                    "imageCaption":"Right Shirt",
                    "actionName":"Wear Right Shirt"
                },
                {
                    "filename":"shirt3",
                    "imageCaption":"upsidedown Shirt",
                    "actionName":"Wear upsidedown Shirt"
             	},
                {
                    "filename":"shirt4",
                    "imageCaption":"Left Shirt",
                    "actionName":"Wear Left Shirt"
                },
                {
                    "filename":"shirt4",
                    "imageCaption":"MORE SHIRT",
                    "actionName":"Wear THE MORE Shirt"
                }

            ]
        },
        {
            "filename":"pants",
            "imageCaption":"Pants",
            "actionName":"View Pants",
            "children":
            [
            
                {
                    "filename":"pants",
                    "imageCaption":"Upright pants",
                    "actionName":"Wear pants"
                },
                {
                    "filename":"pants2",
                    "imageCaption":"Right pants",
                    "actionName":"Wear Right pants"
                },
                {
                    "filename":"pants3",
                    "imageCaption":"upsidedown pants",
                    "actionName":"Wear upsidedown pants"
                },
                {
                    "filename":"pants4",
                    "imageCaption":"Left pants",
                    "actionName":"Wear Left pants"
                }

            ]
        },
        {
            "filename":"shoes",
            "imageCaption":"Shoes",
            "actionName":"View Shoes",
            "children":
            [
            
                {
                    "filename":"shoes",
                    "imageCaption":"shoes",
                    "actionName":"Wear shoes"
                }
			]
        },
        {
            "filename":"jacket",
            "imageCaption":"Jackets",
            "actionName":"View Jackets",
            "children":
            [
            
                {
                    "filename":"jacket",
                    "imageCaption":"jacket",
                    "actionName":"Wear jacket"
                }
			]
        },
        {
            "filename":"hat",
            "imageCaption":"Hats",
            "actionName":"View Hats",
            "children":
            [
            
                {
                    "filename":"hat",
                    "imageCaption":"Sun Hat",
                    "actionName":"Wear Sun Hat"
                },
                {
                    "filename":"hat2",
                    "imageCaption":"Red Hat",
                    "actionName":"Wear Red Hat"
                }
			]
        },
        {
            "filename":"accessories",
            "imageCaption":"Accessories",
            "actionName":"View Accessories",
            "children":
            [
            
                {
                    "filename":"accessories",
                    "imageCaption":"accessories",
                    "actionName":"Wear accessories"
                }
			]

        },
        {
            "filename":"backgrounds",
            "imageCaption":"Backgrounds",
            "actionName":"View Backgrounds",
            "children":
            [
            
                {
                    "filename":"backgrounds",
                    "imageCaption":"backgrounds",
                    "actionName":"Wear backgrounds"
                }
			]
        },
        {
            "filename":"face",
            "imageCaption":"Character",
            "actionName":"View Character Options",
            "children":
            [
            
                {
                    "filename":"face",
                    "imageCaption":"face",
                    "actionName":"Wear face"
                }
			]
        },
        {
            "filename":"settings",
            "imageCaption":"Settings",
            "actionName":"Change Settings",
            "children":
            [
            
                {
                    "filename":"settings",
                    "imageCaption":"settings",
                    "actionName":"Wear settings"
                }
			]
        }
    ]
}
		var timeIntreval = 700;
		var currentLevel = 0;
		var currentItem = 0;
		var currentPage = 0;


		function loadHome() {  //Called to display home (level-0) screen
			
			clearScreen();
			document.getElementById("actionText").innerHTML = navigation.parents[0].actionName;

			//Fill in grid with appropriate items
			for (var j = 0; j < 9; j++) { 
				var label = "item" + j;
			    document.getElementById(label).innerHTML = "<img src='images/" + navigation.parents[j].filename + ".jpg' height='80px'><br/ >" + navigation.parents[j].imageCaption;
			}
			
		}
		
		function loadScreen() {  //Called to level-1 screens

			clearScreen();
			document.getElementById("actionText").innerHTML = navigation.parents[currentPage].children[0].actionName;
			
			//Fill in grid with appropriate items
			for (var j = 0; j < navigation.parents[currentPage].children.length; j++) { 
				var label = "item" + j;
			    document.getElementById(label).innerHTML = "<img src='images/" + navigation.parents[currentPage].filename + "/" + navigation.parents[currentPage].children[j].filename + ".jpg' height='80px'><br/ >" + navigation.parents[currentPage].children[j].imageCaption;
			}
			
			//Add back button
			label = "item" + navigation.parents[currentPage].children.length;
			document.getElementById(label).innerHTML = "<img src='images/home.jpg'><br/ >Back";

		}
		
		window.addEventListener("keydown", dealWithKeyboard, false);

		function dealWithKeyboard(e) {
			if(currentLevel == 0){
				currentLevel = 1;
				currentPage = currentItem;
				loadScreen();
			}else {
				if(currentItem == navigation.parents[currentPage].children.length){ //ie, the back button
					currentLevel = 0;
					loadHome();
				}else {
					url = "images/" + navigation.parents[currentPage].filename + "/" + navigation.parents[currentPage].children[currentItem].filename + ".jpg";
					document.getElementById('image_X').src=url;
				}
			}
		}
		
		window.setInterval(function(){
			document.getElementById("item" + currentItem).className = "unSelected";
			
			if(currentLevel == 0){	//If on main screen
				currentItem = currentItem+1;
				if(currentItem == 9){
					currentItem = 0;
				}
				
				document.getElementById("actionText").innerHTML = navigation.parents[currentItem].actionName;
				var label = "item" + currentItem;
				document.getElementById(label).className = "selected";
				
			}else {  //If on subscreen
				currentItem = currentItem+1;
				if(currentItem == navigation.parents[currentPage].children.length+1){
					currentItem = 0;
				}
				
				if(currentItem == navigation.parents[currentPage].children.length){
					document.getElementById("actionText").innerHTML = "Go back";
				}else {
					document.getElementById("actionText").innerHTML = navigation.parents[currentPage].children[currentItem].actionName;
				}
				var label = "item" + currentItem;
				document.getElementById(label).className = "selected";
			}
			
		}, timeIntreval);
		
		function clearScreen(){ //Resets grid to a clean slate
			for (var j = 0; j < 9; j++) { 
				var label = "item" + j;
			    document.getElementById(label).innerHTML = "";
				document.getElementById(label).className = "unSelected";
			}
			currentItem = 0;
			document.getElementById("item0").className = "selected";
		}
		
		</script>
	</head>
	<body onload="loadHome()">
		<div id="wrapper">
			<h1>Dress to the Max</h1>
			<div id="character">
				<img id="image_X" >
			</div>
			<div id="navigation">
				Action: <span id ="actionText"></span>
				<ul onkeydown="keypress1(event);" id="navlist">
					<li id="item0" ></li>
					<li id="item1" ></li>
					<li id="item2" ></li>
					<li id="item3" ></li>
					<li id="item4" ></li>
					<li id="item5" ></li>
					<li id="item6" ></li>
					<li id="item7" ></li>
					<li id="item8" ></li>
				</ul>
			</div>
		</div>
		<p class="footer">
		UNC Chapel Hill, Maegan Clawges, Krista Katzenmeyer, Jon Medenblik.  <a href="https://github.com/kkatzen/dress-to-the-max">Github</a>
		</p>
	</body>
</html>